---
title: åˆ©ç”¨dispatchçªç ´ç½‘ç»œé™é€Ÿï¼ˆLinuxï¼‰
date: 2024-07-21 23:09:18+08:00
lastMod: 2024-07-21 23:14:58+08:00
category: Internet
tags:
- Internet
- é™é€Ÿ
- æ ¡å›­ç½‘
- ç½‘ç»œ
- linux
sticky: 0
---

**[dispatch](https://github.com/alexkirsz/dispatch)æ˜¯ä¸€ç§Rustè¯­è¨€çš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å™¨ï¼Œå¯å®ç°å¸¦å®½å åŠ ã€å¸¦å®½èšåˆ**

## ä½¿ç”¨åœºæ™¯

é€šè¿‡çº¯è½¯ä»¶å®ç°å¤šç½‘å¡å¸¦å®½å åŠ å’Œè´Ÿè½½å‡è¡¡

* é€šè¿‡ç»‘å®šå¤šä¸ªæœ¬åœ°IPæ¥å£ï¼Œèµ·ä¸€ä¸ªæœ¬åœ°S5 Proxyï¼Œé€šè¿‡è¯¥å…¥å£å®ç°åŠ æƒè´Ÿè½½å‡è¡¡æ§åˆ¶æµé‡
* å®ç°ä¸‹è¡Œå¸¦å®½å¤šç½‘å¡ï¼ˆç½‘ç»œé€‚é…å™¨ï¼‰èšåˆå¸¦å®½å åŠ 
* å®ç°ä¸Šè¡Œå¸¦å®½å¤šç½‘å¡ï¼ˆç½‘ç»œé€‚é…å™¨ï¼‰èšåˆå¸¦å®½å åŠ 
* æ— é¡»ä¸ç¨³å®šçš„è·ƒç‚¹å’Œå…¶ä»–çš„VPN/ä»£ç†è½¯ä»¶å°±å¯ä»¥è‡ªè¡Œå®ç°èšåˆ
* æä¾›æ ‡å‡†çš„S5ä»£ç†ï¼Œä¸æä¾›HTTPä»£ç†ï¼Œæœ¬èº«ä¸å…·æœ‰åŠ å¯†ã€æ··æ·†ç­‰åŠŸèƒ½
* å¯ä»¥å¥—å¨ƒå…¶ä»–ä»£ç†è½¯ä»¶ å½“ç„¶ï¼ŒåŸåˆ™ä¸Šï¼Œå•çº¿ç¨‹è‡ªç„¶æ˜¯æ— æ•ˆçš„ï¼ŒåŒæ—¶æ— æ³•é¢„æµ‹æµé‡ï¼Œç®€å•æ¥è¯´å¯æŠŠHaproxyå½“ä½œæœåŠ¡ç«¯è´Ÿè½½å‡è¡¡ï¼Œè€ŒDiepatch-Proxyæ˜¯ä¸€ç§å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ã€‚

### å¦‚ä½•å¥—å¨ƒ

* V2rayNä½œä¸ºå‡ºå£ï¼Œéœ€è¦åšå¥½DNSç­‰è®¾ç½®ï¼Œå¦‚æœæœ‰å¼‚å¸¸éœ€è¦é‡å¯æœåŠ¡
* Netchä½œä¸ºè¿›ç¨‹ä»£ç†æ§åˆ¶ç¨‹åºï¼Œé…ç½®å¹¶ä½¿ç”¨Dispatchæä¾›çš„S5ä»£ç†ï¼Œå¯¹V2rayNçš„äºŒè¿›åˆ¶ç¨‹åºå¯ç”¨ï¼ˆåŒ…æ‹¬å†…æ ¸ï¼Œæ¯”å¦‚xray.exeã€sing-box.exeï¼‰
* Dispatchè‡ªè¡Œé€‰æ‹©ç«¯å£å’Œå¯ç”¨çš„æœ¬åœ°IPï¼Œä½œä¸ºä¸Šè”æºï¼Œä»¥åŠé…ç½®æƒé‡ï¼Œé»˜è®¤æ˜¯å‡ç­‰è¿æ¥ï¼Œç„¶åé»˜è®¤ç«¯å£æ˜¯1080ï¼Œä¸å¯å†²çªç«¯å£

### é¢„æµ‹å¯ç”¨åœºæ™¯

* å®ç°é«˜é€Ÿå†…ç½‘ï¼šå åŠ WiFi+LANç­‰ç»„åˆæ–¹æ¡ˆè¾¾åˆ°æ›´å¤§çš„ç†è®ºé€Ÿåº¦ï¼Œä¸å½±å“äº’è”ç½‘å‡ºå£IPã€‚
* å åŠ å…‰çŒ«LANå£ï¼šå¸¸è§çš„å…‰çŒ«é€šå¸¸ä¸º1Gbps LANæ¥å£ï¼Œå¯é€šè¿‡å åŠ å¤šä¸ªGå£æˆ–è€…å…‰çŒ«è‡ªå¸¦WiFiå®ç°æ›´å¤§å¸¦å®½æ¥å…¥ï¼Œè·å–è¢«Gå£é™åˆ¶çš„å†—ä½™å¸¦å®½ï¼Œä¸å½±å“äº’è”ç½‘å‡ºå£IPã€‚
* å¤šå®½å¸¦/å¤–ç½‘å¹¶è”ï¼šå åŠ èœ‚çªæµé‡å¡ï¼ˆèœ‚çªç½‘ç»œç±»ï¼ŒåŒ…æ‹¬MIFI/æ‰‹æœºçƒ­ç‚¹ï¼‰å®ç°æ›´å¤§å¸¦å®½çš„å¤–ç½‘ä¸Šä¸‹è¡Œæ°´å¹³ï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´å‡ºå£IPä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯èƒ½æœ‰è´Ÿé¢å½±å“ã€‚

æœ¬æ–‡ä»¥debianä¸ºä¾‹

## å®‰è£…dispatch

```bash
apt  install cargo && cargo install dispatch-proxy && export PATH="$PATH:/root/.cargo/bin" && source /etc/profile && dispatch --version
```

æ˜¾ç¤ºç‰ˆæœ¬åˆ™ä»£è¡¨å®‰è£…æˆåŠŸ

## è·å–å¤šä¸ªIP

å»ºè®®åœ¨å ç”¨è¯¥ipæ—¶ï¼Œå…ˆpingä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰äººç”¨ğŸ˜­

æ ¹æ®è‡ªå·±çš„ç½‘ç»œç¯å¢ƒé€‰æ‹©IP

```bash
ifconfig eth0:1 <æƒ³ä½¿ç”¨çš„IP> netmask 255.255.255.0 up
```

ç„¶åè¾“å…¥ `ifconfig`æŸ¥çœ‹æ˜¯å¦æœ‰æ­¤IP

[![https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_4472f670cfec7856fd60afdc92d301b6.png](https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_4472f670cfec7856fd60afdc92d301b6.png)](https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_4472f670cfec7856fd60afdc92d301b6.png)

## å¯åŠ¨dispatch

```bash
dispatch start  --ip 127.0.0.1 --port 1080 <ä¸Šé¢è·å–çš„IP>
```

**å¤šä¸ªIPç”¨ç©ºæ ¼éš”å¼€**

## è¿æ¥ä»£ç†

è¿™é‡Œä»¥[nekoray](https://github.com/MatsuriDayo/nekoray/)ä¸ºä¾‹

[![https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1a2337d7343c2d48bb0e56213749838.png](https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1a2337d7343c2d48bb0e56213749838.png)](https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1a2337d7343c2d48bb0e56213749838.png)

æ·»åŠ ä»£ç†åå³é”®è¿™ä¸ªä»£ç†ç‚¹å‡»å¯åŠ¨å³å¯è¿ä¸Š

## å–æ¶ˆå ç”¨IP

```
ifconfig eth0:1 down
```

## èµ„æºåœ°å€

**åŸä»“åº“ï¼š[https://github.com/alexkirsz/dispatch](https://github.com/alexkirsz/dispatch)**

**æœ¬æ–‡è½¬è½½çš„ç¿»è¯‘ä»“åº“ï¼š[https://github.com/BlueSkyXN/Dispatch-Proxy](https://github.com/BlueSkyXN/Dispatch-Proxy)**
