---
title: åˆ©ç”¨wireguardç»™å¤šå°æœåŠ¡å™¨ç»„ç½‘
date: 2024-07-21 23:01:45+08:00
lastMod: 2025-01-12 13:12:06+08:00
summary: æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Â WireGuardÂ æ„å»ºÂ VPSÂ ä¹‹é—´çš„ç‚¹å¯¹ç‚¹Â VPNÂ è¿æ¥ï¼Œä»¥è§£å†³æµ·å¤–Â VPSÂ å›½å†…è®¿é—®å»¶è¿Ÿé«˜çš„é—®é¢˜ã€‚ä½œè€…åˆ©ç”¨ä¸€å°é˜¿é‡Œäº‘é¦™æ¸¯è½»é‡æœåŠ¡å™¨ä½œä¸ºè·³æ¿æœºï¼Œä¸ºä½äºå¤§é™†ä»¥å¤–çš„Â VPSÂ åŠ é€Ÿã€‚æ–‡ç« è¯¦ç»†è®²è§£äº†Â WireGuardÂ çš„å®‰è£…å’Œé…ç½®æ­¥éª¤ï¼ŒåŒ…æ‹¬å¯†é’¥ç”Ÿæˆã€é…ç½®æ–‡ä»¶ç¼–å†™ä»¥åŠé˜²ç«å¢™ç«¯å£æ”¾è¡Œã€‚æ ¸å¿ƒæ˜¯é…ç½®ä¸¤å°Â VPSÂ çš„Â WireGuardï¼Œä½¿å…¶èƒ½å¤Ÿç›¸äº’é€šä¿¡ï¼Œå¹¶é€šè¿‡é¦™æ¸¯æœåŠ¡å™¨è½¬å‘æµé‡ï¼Œä»è€Œé™ä½å»¶è¿Ÿã€‚æ–‡ç« æœ€åæé†’è¯»è€…ï¼ŒWireGuardÂ ä¸å…·å¤‡æµé‡ä¼ªè£…åŠŸèƒ½ï¼Œä¸é€‚ç”¨äºç¿»å¢™ã€‚
category: linux
tags:
- linux
- wireguard
sticky: 0
---

å‰è¨€ï¼šä¸Šä¸ªæœˆåœ¨aliceç™½å«–äº†ä¸€å°4c8gçš„vpsï¼Œæ€§èƒ½è™½å¥½ï¼Œä½†ä¸­å›½å¤§é™†æ–¹å‘ä¼˜åŒ–å‡ ä¹æ²¡æœ‰ï¼Œå¹¿ä¸œç”µä¿¡pingä¸ä½äº300msï¼Œè€Œæ‰‹ä¸Šåˆæœ‰ä¸€å°é˜¿é‡Œäº‘é¦™æ¸¯è½»é‡ï¼Œæ‰€ä»¥å°±æ‹¿æ¥ç»™aliceçš„vpsä½œè·³æ¿æœºã€‚æœ¬æ¥éƒ¨ç½²é¡¹ç›®ä¸€åˆ‡é¡ºåˆ©ï¼Œä½†æ˜¯åˆ°åä»£æ—¶1panelç½¢å·¥ï¼Œåä»£httpæ­£å¸¸ï¼ŒhttpsæŠ¥é”™ã€‚æ‰€ä»¥ä¸ºäº†ä¸è®©æµé‡è£¸å¥”ï¼Œæ‰€ä»¥å°±ç»™ä»–ä¿©ç»„äº†ä¸ªç½‘ğŸ˜“

## å‡†å¤‡

* ä¿©å°å¯å®‰è£…wireguardçš„vps

## å®‰è£…wireguard

**Debian/Ubuntu/Linux Mint:**

```bash
sudo apt update
sudo apt install wireguard
```

**Fedora/CentOS/RHEL:**

```bash
sudo yum install wireguard-tools
```

**Arch Linux/Manjaro:**

```bash
sudo pacman -S wire
```

## ç”Ÿæˆå¯†é’¥

```bash
wg genkey | tee privatekey | wg pubkey > publickey
```

ç§é’¥ï¼š

```bash
cat privatekey
```

å…¬é’¥ï¼š

```bash
cat publickey
```

## å¡«å…¥é…ç½®æ–‡ä»¶

ç…§ç€æ¨¡æ¿å¡«å†™

ç¬¬ä¸€å°vps

```bash
[Interface]
PrivateKey = <æ›¿æ¢ä¸ºVPS1çš„ç§é’¥>
Address = 10.0.0.1/32
ListenPort = 51820 

[Peer]
PublicKey = <æ›¿æ¢ä¸ºVPS 2çš„å…¬é’¥>
AllowedIPs = 10.0.0.2/32
Endpoint = <æ›¿æ¢ä¸ºVPS2çš„IP>:51820
PersistentKeepalive = 25
```

ç¬¬äºŒå°vps

```bash
[Interface]
PrivateKey = <æ›¿æ¢ä¸ºVPS 2çš„ç§é’¥>
Address = 10.0.0.2/32
ListenPort = 51820 

[Peer]
PublicKey = <æ›¿æ¢ä¸ºVPS 1çš„å…¬é’¥>
AllowedIPs = 10.0.0.1/32
Endpoint = <æ›¿æ¢ä¸ºVPS1çš„IP>:51820
```

## é˜²ç«å¢™æ”¾è¡Œç«¯å£

ufwï¼š

`ufw allow 51820`

## å¯åŠ¨éš§é“

Â·`wg-quick up wg0`Â·

## é…ç½®å¼€æœºè‡ªå¯

`systemctl enable wg-quick@wg0.service`

**è­¦å‘Š**

æ­¤åè®®æ— ä»»ä½•ä¼ªè£…ï¼ŒGFWå¯ç²¾å‡†æ¢æµ‹ï¼Œä¸è¦æ‹¿æ­¤åè®®è¿‡GFW
